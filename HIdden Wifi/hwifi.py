from scapy.all import *
import os

iface = "en1" #OS X's wireless interface

def h_packet(packet):
     if packet.haslayer(Dot11ProbeReq) or packet.haslayer(Dot11ProbeResp):
          print "SSID Identified: " + packet.info

os.system("iwconfig" + iface + "mode monitor") #I get a "iwconfigen1mode: command not found" error here. Likely another OS X dependeny i'll have to iron out. 


print "Sniffing traffic on interface: " + iface
sniff(iface=iface, prn=h_packet)
