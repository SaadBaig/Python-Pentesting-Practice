import random
import os
import subprocess

#for mac OS X which uses en0/en1 for ethernet/wireless rather than eth0/wlan0 in Linux

def get_rand():
    return random.choice("abcdef0123456789")

def new_mac():
    new_= ""
    for i in range(0,5):
        new_+=get_rand()+get_rand()+":"
        
    new_+=get_rand()+get_rand()
    return new_

print(os.system("ifconfig en0 | grep ether | grep -oE [0-9avcdef:]{17}"))

subprocess.call(["ifconfig", "en0", "down"], shell=True)

new_m= new_mac()
print"step1"
subprocess.call(["ifconfig", "en0", "hw", "ether","%s"%new_m], shell=True)
print"step2"
subprocess.call(["ifconfig", "en0", "up"], shell=True)
print"step3"
print(os.system("ifconfig en0 | grep ether | grep -oE [0-9abcdef:]{17}"))